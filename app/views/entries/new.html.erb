<% if current_open_challenge %>

  <%= render "challenges/header" %>

  <div id="step-1" class="step focused">
    <h2>1. Choose a repository:</h2>
    <br>
    <form id="repos">
      <select disabled="disabled">
        <option value="null">Pick one...</option>
      </select>
    </form>
  </div>

  <div id="step-2" class="step">
    <h2>2. Make sure everything checks out:</h2>
    <ul id="check">
      <li id="screenshot_check"><span class="mark">&#10003;</span>Has a `screenshot.jpg` file in the root directory</li>
      <li id="description_check"><span class="mark">&#10003;</span>Has a description</li>
      <li id="commit_date_check"><span class="mark">&#10003;</span>Created after challenge start</li>
      <li id="contributor_check"><span class="mark">&#10003;</span>Has valid collaborators</li>
      <li id="demo_check"><span class="mark">&#10003;</span>Has a valid demo URL</li>
      <li id="uniqueness_check"><span class="mark">&#10003;</span>Hasn't been submitted before</li>
      <li id=\"refresh-message\">
        <br>
        <button id="refresh-button" disabled>Re-check</button>
        <button class="change-repo-button" disabled>Choose a Different Repo</button>
      </li>
    </ul>
  </div>

  <div id="step-3" class="step">
    <h2>3. Preview your entry:</h2>
    <br>
    
    <!-- This is a totally custom implementation of the entries/thumb partial with special IDs and class names. Fuck me I guess. -->
    <a class="item">
      <div class="web">
        <div class="top-frame"><div class="top-frame-inner" style="background-image: url('foo');"></div></div>
        <h1 class="little" id="repo-title"></h1>
        <p id="repo-desc"></p>
      </div>
    </a>
    
    <br><br>

    <%= form_for(@entry) do |f| %>
      <%= f.hidden_field :title %>
      <%= f.hidden_field :description %>
      <%= f.hidden_field :repo_url %>
      <%= f.hidden_field :thumb_url %>
      <%= f.hidden_field :demo_url %>
      <%= f.hidden_field :github_repo_id %>
      <div class="actions">
        <%= f.submit "Submit Entry", :disabled => "true" %>
        <button class="change-repo-button" disabled>Choose a Different Repo</button>
      </div>
    <% end %>
  </div>

<% else %>
  <h2>Sorry, no challenges are open right now&hellip;</h2>
<% end %>